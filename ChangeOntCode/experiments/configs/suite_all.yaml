# experiments/configs/suite_all.yaml
# One-shot configuration to run STOA and CO across bandit, maze, renewal.

out_root: outputs/suite

families:
  bandit:
    problems:
      - mode: easy
        env:
          probs: [0.1, 0.2, 0.8]
          horizon: 500
        seeds: [1, 2]
        agents:
          - { type: ucb1 }
          - { type: epsgreedy, params: { epsilon: 0.1 } }
          - { type: kl_ucb }
          - { type: ts }
          - { type: co }   # CO
      # - mode: medium
      #   env:
      #     probs: [0.2, 0.4, 0.6]
      #     horizon: 1000
      #   seeds: [1, 2]
      #   agents:
      #     - { type: ucb1 }
      #     - { type: epsgreedy, params: { epsilon: 0.1 } }
      #     - { type: kl_ucb }
      #     - { type: ts }
      #     - { type: co }   # CO
      # - mode: hard
      #   env:
      #     probs: [0.49, 0.5, 0.51]
      #     horizon: 2000
      #   seeds: [1, 2]
      #   agents:
      #     - { type: ucb1 }
      #     - { type: epsgreedy, params: { epsilon: 0.1 } }
      #     - { type: kl_ucb }
      #     - { type: ts }
      #     - { type: co }   # CO

  maze:
    envs:
      - mode: default5
        env:
          spec_path: null   # uses the built-in 5x5 default in your env
        episodes: 5
        seeds: [7]
        agents:
          - { type: bfs }
          - { type: astar }   # STOA
          - { type: co }   # CO (will underperform BFS until spatial headers are added)
      - mode: maze_7x7
        env:
          spec_path: environments/maze1/spec_7x7.yaml
        episodes: 5
        seeds: [7]
        agents:
          - { type: bfs }
          - { type: astar }
          - { type: co }

      - mode: maze_9x5
        env:
          spec_path: environments/maze1/spec_9x5.yaml
        episodes: 5
        seeds: [7]
        agents:
          - { type: bfs }
          - { type: astar }
          - { type: co }

  renewal:
    instances:
      # 1) Upper bound: no renewals, no noise
      - mode: upper_bound
        env: { A: 8, L_win: 6, p_ren: 0.0, p_noise: 0.0, T_max: 1000 }
        steps: 1000
        seeds: [7, 8]
        agents:
          # - { type: last }
          # - { type: phase }
          # - { type: ngram }
          - { type: vom, params: { max_order: 5 } }
          - { type: co }

      # 2) Renewals only (harder than upper_bound)
      - mode: clean
        env: { A: 8, L_win: 6, p_ren: 0.02, p_noise: 0.0, T_max: 1000 }
        steps: 1000
        seeds: [7, 8]
        agents:
          # - { type: last }
          # - { type: phase }
          # - { type: ngram }
          - { type: vom, params: { max_order: 5 } }
          - { type: co }

      # 3) Noise only (typically easier than renewals-only for Phase)
      - mode: noise_only
        env: { A: 8, L_win: 6, p_ren: 0.0, p_noise: 0.02, T_max: 1000 }
        steps: 1000
        seeds: [7, 8]
        agents:
          # - { type: last }
          # - { type: phase }
          # - { type: ngram }
          - { type: vom, params: { max_order: 5 } }
          - { type: co }

      # 4) Renewals + noise (hardest)
      - mode: renewals_plus_noise
        env: { A: 8, L_win: 6, p_ren: 0.02, p_noise: 0.02, T_max: 1000 }
        steps: 1000
        seeds: [7, 8]
        agents:
          # - { type: last }
          # - { type: phase }
          # - { type: ngram }
          - { type: vom, params: { max_order: 5 } }
          - { type: co }
